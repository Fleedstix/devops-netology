# Домашнее задание к занятию "11.02 Микросервисы: принципы"

## Задача 1: API Gateway

> Предложите решение для обеспечения реализации API Gateway. Составьте сравнительную таблицу возможностей различных программных решений. На основе таблицы сделайте выбор решения.
> Решение должно соответствовать следующим требованиям:
> Маршрутизация запросов к нужному сервису на основе конфигурации.Возможность проверки аутентификационной информации в запросах.Обеспечение терминации HTTPS Обоснуйте свой выбор.



|         | Маршрутизация  | Аутентификация | Терминация HTTPS |
|---------|----------------|----------------|------------------|
| AWS     |       +        |       +        |        +         |
| Yandex  |       +        |       +        |        +         |
| Nginx   |       +        |       +        |        +         |
| Haproxy |       +        |       +        |        +         |
| Envoy   |       +        |       +        |        +         |

Если бы инфраструктура располагалась у одного из облачных провайдеров, я бы выбрал услугу API Gateway у этого провайдера. А в случае расположения инфраструктуры внутри предприятия, я бы выбрал Nginx, т.к. это самый распространенный инструмент

## Задача 2: Брокер сообщений

> Составьте таблицу возможностей различных брокеров сообщений. На основе таблицы сделайте обоснованный выбор решения.
> Решение должно соответствовать следующим требованиям:
> * Поддержка кластеризации для обеспечения надежности
> * Хранение сообщений на диске в процессе доставки
> * Высокая скорость работы
> * Поддержка различных форматов сообщений
> * Разделение прав доступа к различным потокам сообщений
> * Протота эксплуатации
>
> Обоснуйте свой выбор.


Требования | Apache Kafka | Apache ActiveMQ | RabbitMQ | Redis |
--- | --- | --- | --- | --- |
Поддержка кластеризации для обеспечения надежности | Да | только master-slave | Да | Да
Хранение сообщений на диске в процессе доставки | Да | Да | Да | Да 
Высокая скорость работы | +++ | + | ++ | ++ 
Поддержка различных форматов сообщений | Да | Нет(однонаправленный/широковещательный) | Да | Да 
Разделение прав доступа к различным потокам сообщений | Да | Да | Да | Нет
Протота эксплуатации | Нет | Да | Да | Да 

Redis не гарантирует доставку. Apache Kafka расчитан на большие нагрузки. Также можно воспользоваться с решениями провайдеров, например Amazon SQS/SNS. Но в большинстве случаев, мой выбор бы склонялся к RabbitMQ, потому что он лёгок в развёртке и взаимодействии со стороны написания программного кода.