# Домашнее задание к занятию "5.3. Контейнеризация на примере Docker"

> 1. Посмотрите на сценарий ниже и ответьте на вопрос: "Подходит ли в этом сценарии использование докера? Или лучше подойдет виртуальная машина, физическая машина? Или возможны разные варианты?"
Детально опишите и обоснуйте свой выбор.

> Высоконагруженное монолитное java веб-приложение

Физическая машина, т.к. данное решение будет производительнее чем виртуальная машина, контейнер не подходит, т.к приложение монолитное, а концепция контейнеризации - один процесс = один контейнер.

> Go-микросервис для генерации отчетов

для микросервисов на GO отлично подходит докер

> Nodejs веб-приложение

Nodejs отлично работает с docker

> Мобильное приложение c версиями для Android и iOS

Обычно в ide встроен эмулятор Android и iOS, который работает как виртуальная машина

> База данных postgresql используемая, как кэш

Думаю,что больше всего подходит физическая машина, тк необходим наименьший уровень абстракции для работы с железом, для большей производительности.


> Шина данных на базе Apache Kafka

docker, т.к чаще всего Apache Kafka берется с расчетом на масштабирование, используется в kubernetes

> Очередь для Logstash на базе Redis

Анналогично, docker с расчетом на масштабирование

> Elastic stack для реализации логирования продуктивного веб-приложения - три ноды elasticsearch, два logstash и две ноды kibana

Elastic stack обычно разворачивается в docker, больше всего информации по настройке Elastic именно для docker

> Мониторинг-стек на базе prometheus и grafana

Классический стек для docker

> Mongodb, как основное хранилище данных для java-приложения

С расчетом для масштабирования Mongodb, используется в docker

> Jenkins-сервер

Java приложение совместимое с docker, также очень удобно управлять jenkins runner через docker

> 2. Сценарий выполения задачи:
создайте свой репозиторий на докерхаб;
выберете любой образ, который содержит апачи веб-сервер;
создайте свой форк образа;
реализуйте функциональность: запуск веб-сервера в фоне с индекс-страницей, содержащей HTML-код ниже: 
Опубликуйте созданный форк в своем репозитории и предоставьте ответ в виде ссылки на докерхаб-репо.

https://hub.docker.com/repository/docker/fleedstix/devops-netology

[Dockerfile](/Dockerfile)

> 3. Запустите первый контейнер из образа centos c любым тэгом в фоновом режиме, подключив папку info из текущей рабочей директории на хостовой машине в /share/info контейнера;

```docker
docker run -d -v ./info:/share/info centos /usr/sbin/init
```
> Запустите второй контейнер из образа debian:latest в фоновом режиме, подключив папку info из текущей рабочей директории на хостовой машине в /info контейнера;
```
docker run -d -v ./info:/info debian:latest sleep infinity
```
```
C:\>docker ps
CONTAINER ID   IMAGE           COMMAND            CREATED          STATUS          PORTS     NAMES
1c9eacb3600c   debian:latest   "sleep infinity"   3 seconds ago    Up 2 seconds              distracted_spence
ab08dfb98e42   centos          "/usr/sbin/init"   30 seconds ago   Up 29 seconds             trusting_kare
```
> Подключитесь к первому контейнеру с помощью exec и создайте текстовый файл любого содержания в /share/info

```
C:\>docker exec -it ab08dfb98e42 bash
[root@ab08dfb98e42 /]# vi /share/info/hello
```

> Добавьте еще один файл в папку info на хостовой машине;

```
touch test
```

> Подключитесь во второй контейнер и отобразите листинг и содержание файлов в /info контейнера.

```
docker exec -it 1c9eacb3600c bash
root@1c9eacb3600c:/# cd info
root@1c9eacb3600c:/info# ls
 hello   test

 ```