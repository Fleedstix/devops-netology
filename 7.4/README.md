# Домашнее задание к занятию "7.4. Средства командной работы над инфраструктурой."

> Создай server.yaml который скажет атлантису:
1. Укажите, что атлантис должен работать только для репозиториев в вашем github (или любом другом) аккаунте.
2. На стороне клиентского конфига разрешите изменять workflow, то есть для каждого репозитория можно будет указать свои дополнительные команды.
3. В workflow используемом по-умолчанию сделайте так, что бы во время планирования не происходил lock состояния.
> Создай atlantis.yaml который, если поместить в корень terraform проекта, скажет атлантису:

1. Надо запускать планирование и аплай для двух воркспейсов stage и prod.
2. Необходимо включить автопланирование при изменении любых файлов *.tf.

В качестве результата приложите ссылку на файлы server.yaml и atlantis.yaml.

[server.yaml](../server.yaml)

[atlantis.yaml](../atlantis.yaml)

> 3. Задача 3. Знакомство с каталогом модулей.

> В каталоге модулей найдите официальный модуль от aws для создания ec2 инстансов.

https://registry.terraform.io/modules/terraform-aws-modules/ec2-instance/aws/latest

> Изучите как устроен модуль. Задумайтесь, будете ли в своем проекте использовать этот модуль или непосредственно ресурс aws_instance без помощи модуля?

Нет, использовать данный модуль я бы не стал, т.к. данный модуль описывает функционал, который самому вполне легко можно реализовать, а использование модуля влечет за собой дополнительную зависимость- точку отказа

> В рамках предпоследнего задания был создан ec2 при помощи ресурса aws_instance. Создайте аналогичный инстанс при помощи найденного модуля.

[Terraform директория](../Terraform/main2.tf)