# Домашнее задание к занятию "3.7. Компьютерные сети, лекция 2"

> 1. Проверьте список доступных сетевых интерфейсов на вашем компьютере. Какие команды есть для этого в Linux и в Windows?

Для Windows команда
```
ipconfig /all
```
Для Linux 
```
ip a
ifconfig
nestat -i
```

> 2. Какой протокол используется для распознавания соседа по сетевому интерфейсу? Какой пакет и команды есть в Linux для этого?

Протокол LLDP, пакет lldpd, команда lldpctl

> 3. Какая технология используется для разделения L2 коммутатора на несколько виртуальных сетей? Какой пакет и команды есть в Linux для этого? Приведите пример конфига.

Технология VLAN, для создания VLAN и работы с VLAN исспользуется пакет vlan, network и ip. 

Примеры команд 
```
vconfig add eth0 5
```
```
ip link add link eth0 name eth0.10 type vlan id 10
```
Добавление vlan через конфигурацию interfaces 
```
sudo nano /etc/network/interfaces

auto eth0.100
iface eth0.100 inet static
address 192.168.1.200
netmask 255.255.255.0
vlan-raw-device eth0

systemctl restart network
```
> 4. Какие типы агрегации интерфейсов есть в Linux? Какие опции есть для балансировки нагрузки? Приведите пример конфига.

Типы Mode-0(balance-rr), Mode-1(active-backup), Mode-2(balance-xor), Mode-3(broadcast), Mode-4(802.3ad), Mode-5(balance-tlb), Mode-6(balance-alb).

В первом типе балансировка происходит методом отправки пакетов по кругу,Если выходит из строя один из интерфейсов, пакеты отправляются на остальные оставшиеся.

Во втором режиме передача пакетов распределяется между объединенными интерфейсами по формуле ((MAC-адрес источника) XOR (MAC-адрес получателя)) % число интерфейсов.

В пятом типе входящий трафик получается только активным интерфейсом, исходящий - распределяется в зависимости от текущей загрузки каждого интерфейса.

Шестой тип обеспечивает балансировку нагрузки как исходящего (TLB, transmit load balancing), так и входящего трафика (для IPv4 через ARP).

Пример конфига:

```
$ sudo nano /etc/network/interfaces
# The primary network interface
auto bond0
iface bond0 inet static
    address 192.168.1.150
    netmask 255.255.255.0    
    gateway 192.168.1.1
    dns-nameservers 192.168.1.1 8.8.8.8
    dns-search domain.local
        slaves eth0 eth1
        bond_mode 0
        bond-miimon 100
        bond_downdelay 200
        bound_updelay 200
```

> 5. Сколько IP адресов в сети с маской /29 ? Сколько /29 подсетей можно получить из сети с маской /24. Приведите несколько примеров /29 подсетей внутри сети 10.10.10.0/24.

в маске /29 8 адресов, из них один адрес подсети и один широковещательный

32 /29 подсетей можно получить из сети с маской /24.

Примеры:

10.10.10.0 - 10.10.10.6

10.10.10.9 - 10.10.10.15

10.10.10.18 - 10.10.10.24

> 6. Задача: вас попросили организовать стык между 2-мя организациями. Диапазоны 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16 уже заняты. Из какой подсети допустимо взять частные IP адреса? Маску выберите из расчета максимум 40-50 хостов внутри подсети.

Можно взять подсесть 100.64.0.0/10

> 7. Как проверить ARP таблицу в Linux, Windows? Как очистить ARP кеш полностью? Как из ARP таблицы удалить только один нужный IP?

Проверка таблицы

windows
```
arp -a  windows
```

linux

```
ip neigh    linux
```
очистка ARP кеша

windows
```
netsh interface ip delete arpcache
```

linux

```
sudo ip neigh flush all  
```
Удаление из таблицы одного адреса

windows

```
arp -d 192.168.100.25  
```

linux

```
sudo ip neigh flush 10.10.10.105 
```


